import{r as e,a as t}from"./s2qgylan6mb-BZndayp-.js";import{S as l,T as a,E as r,a as n,X as s,C as i,U as o,Z as c,b as d,P as m,B as h,c as g}from"./n2ygfbf5nel-BX9RFmlb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.t)return;e.t=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u={exports:{}},b={},x=e,f=Symbol.for("react.element"),p=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,N=x.i.l,v={key:!0,o:!0,m:!0,h:!0};function w(e,t,l){var a,r={},n=null,s=null;for(a in void 0!==l&&(n=""+l),void 0!==t.key&&(n=""+t.key),void 0!==t.o&&(s=t.o),t)y.call(t,a)&&!v.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.u)for(a in t=e.u)void 0===r[a]&&(r[a]=t[a]);return{p:f,type:e,key:n,o:s,N:r,v:N.P}}b.k=p,b.T=w,b.S=w,u.exports=b;var P,k=u.exports,T=t;P=T.R,T.C;const S=({j:e,$:t,M:l,G:a,I:r})=>{const n=e.icon;return k.S("div",{className:`\n      relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 \n      cursor-pointer border-2 border-transparent overflow-hidden group\n      ${a?"ring-4 ring-yellow-400 ring-opacity-75 shadow-2xl scale-105":"hover:scale-105 hover:-translate-y-2"}\n      ${"caught"===r?"animate-pulse ring-4 ring-green-400":""}\n      ${"steal"===r?"animate-bounce ring-4 ring-red-400":""}\n    `,children:[k.S("div",{className:`\n        h-40 bg-gradient-to-br ${e.L} \n        flex items-center justify-center text-white relative overflow-hidden\n      `,children:[k.T(n,{size:64,className:"z-10 drop-shadow-lg"}),k.T("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors duration-300"})]}),k.S("div",{className:"p-4",children:[k.T("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:e.name}),k.T("p",{className:"text-gray-600 text-sm mb-2",children:e.A}),k.T("p",{className:"text-xs text-gray-500",children:e.description})]}),k.S("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-bold",children:[e.points," pts"]}),t&&l&&k.S("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 text-white text-center py-2 font-semibold",children:["Player ",l]}),r&&k.T("div",{className:`\n          absolute inset-0 pointer-events-none\n          ${"caught"===r?"bg-green-400/20":"bg-red-400/20"}\n        `})]})},z=({J:e,tag:t,j:a,K:r,W:n})=>{const s=null==n?void 0:n.has(t),i="PL"===t,o=null==a?void 0:a.icon;return k.S("div",{className:`\n      relative w-20 h-20 rounded-full flex items-center justify-center\n      font-bold text-white text-xl cursor-pointer\n      transition-all duration-300 transform hover:scale-110\n      ${"guessing"===r&&i?"bg-gradient-to-br from-green-400 to-emerald-500 ring-4 ring-green-300 animate-pulse scale-110":s&&a?`bg-gradient-to-br ${c=a,(null==c?void 0:c.L)?{O:"from-yellow-400 to-orange-500",H:"from-pink-400 to-purple-500",_:"from-blue-400 to-indigo-500",V:"from-red-400 to-rose-500",D:"from-green-400 to-emerald-500",F:"from-gray-400 to-slate-500"}[c.L]||"from-blue-500 to-purple-600":""}`:"bg-gradient-to-br from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500"}\n      shadow-lg hover:shadow-xl\n    `,children:[s&&o?k.T(o,{size:24}):k.S("span",{children:["P",e]}),s&&a&&k.T("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-orange-400 to-yellow-500 \r\n                        text-black w-8 h-8 rounded-full flex items-center justify-center \r\n                        text-sm font-bold border-2 border-white",children:a.points}),s&&a&&k.T("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-black/80 \r\n                        text-white px-2 py-1 rounded-full text-xs font-bold whitespace-nowrap",children:a.name}),"guessing"===r&&i&&k.S("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-blue-600 to-blue-800 \r\n                        text-white px-2 py-1 rounded-full flex items-center gap-1 text-xs font-bold",children:[k.T(l,{size:12}),k.T("span",{children:"POL"})]})]});var c},R=({q:e})=>{const t=Object.entries(e||{}).sort(([,e],[,t])=>t-e).map(([e,t])=>({J:parseInt(e),B:t}));if(0===t.length){const e=[1,2,3,4,5,6].map(e=>({J:e,B:0}));return k.S("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[k.S("div",{className:"flex items-center gap-2 mb-4",children:[k.T(a,{className:"text-yellow-500",size:24}),k.T("h3",{className:"text-2xl font-bold text-gray-800",children:"Scores"})]}),k.T("div",{className:"overflow-x-auto",children:k.S("table",{className:"w-full",children:[k.T("thead",{children:k.S("tr",{className:"border-b-2 border-gray-200",children:[k.T("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),k.T("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Player"}),k.T("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Score"})]})}),k.T("tbody",{children:e.map(({J:e,B:t},l)=>k.S("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[k.T("td",{className:"py-3 px-4",children:k.T("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold bg-gray-100 text-gray-600",children:l+1})}),k.S("td",{className:"py-3 px-4 font-medium text-gray-800",children:["Player ",e]}),k.T("td",{className:"py-3 px-4 text-right font-bold text-lg text-gray-800",children:t})]},e))})]})})]})}return k.S("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[k.S("div",{className:"flex items-center gap-2 mb-4",children:[k.T(a,{className:"text-yellow-500",size:24}),k.T("h3",{className:"text-2xl font-bold text-gray-800",children:"Scores"})]}),k.T("div",{className:"overflow-x-auto",children:k.S("table",{className:"w-full",children:[k.T("thead",{children:k.S("tr",{className:"border-b-2 border-gray-200",children:[k.T("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),k.T("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Player"}),k.T("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Score"})]})}),k.T("tbody",{children:t.map(({J:e,B:t},l)=>k.S("tr",{className:`\n                  border-b border-gray-100 hover:bg-gray-50 transition-colors\n                  ${0===l?"bg-gradient-to-r from-yellow-50 to-orange-50":""}\n                `,children:[k.T("td",{className:"py-3 px-4",children:k.T("span",{className:`\n                    inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold\n                    ${0===l?"bg-yellow-400 text-white":1===l?"bg-gray-300 text-gray-700":2===l?"bg-orange-300 text-white":"bg-gray-100 text-gray-600"}\n                  `,children:l+1})}),k.S("td",{className:"py-3 px-4 font-medium text-gray-800",children:["Player ",e,0===l&&k.T("span",{className:"ml-2 text-yellow-500",children:"ðŸ‘‘"})]}),k.T("td",{className:"py-3 px-4 text-right font-bold text-lg text-gray-800",children:t})]},e))})]})})]})},C=({U:t,Y:l,Z:a,X:s})=>{const[i,o]=e.ee((null==a?void 0:a[0])||null);return k.S("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-8 border-2 border-blue-200",children:[k.S("div",{className:"text-center mb-6",children:[k.S("div",{className:"flex items-center justify-center gap-2 mb-2",children:[k.T(r,{className:"text-blue-600",size:24}),k.T("h3",{className:"text-xl font-bold text-blue-800",children:"Police Investigation"})]}),k.S("p",{className:"text-blue-700",children:["Player ",t,", you are the Police! Who do you think is the Thief?"]})]}),k.S("form",{te:e=>{e.preventDefault(),s(i)},className:"flex flex-col items-center gap-4",children:[k.T("div",{className:"flex flex-wrap gap-2 justify-center",children:a.map(e=>k.S("button",{type:"button",le:()=>o(e),className:`\n                px-4 py-2 rounded-lg font-semibold transition-all duration-200\n                ${i===e?"bg-blue-600 text-white shadow-lg scale-110":"bg-white text-blue-600 border-2 border-blue-300 hover:bg-blue-50"}\n              `,children:["Player ",e]},e))}),k.S("button",{type:"submit",className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-3 \r\n                     rounded-xl font-bold text-lg shadow-lg hover:shadow-xl \r\n                     transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[k.T(n,{size:20}),"Make Your Guess"]})]})]})},j=({ae:t})=>{const a=[{name:"Raja (King)",points:250,icon:i,color:"text-yellow-600"},{name:"Rani (Queen)",points:200,icon:i,color:"text-pink-600"},{name:"Manthiri (Minister)",points:150,icon:o,color:"text-blue-600"},{name:"Thiruden (Thief)",points:0,icon:c,color:"text-red-600",re:"Can steal points"},{name:"Police",points:100,icon:l,color:"text-green-600",re:"Can catch the Thief"},{name:"Joker",points:10,icon:d,color:"text-gray-600"}];return e.ne(()=>{const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),k.T("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:k.S("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[k.S("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[k.T("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Game Rules"}),k.T("button",{le:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-700 hover:text-gray-900",children:k.T(s,{size:24})})]}),k.S("div",{className:"p-6 space-y-6",children:[k.S("div",{children:[k.T("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Characters & Points"}),k.T("div",{className:"grid gap-3",children:a.map((e,t)=>{const l=e.icon;return k.S("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[k.T(l,{className:`${e.color}`,size:20}),k.T("span",{className:"font-medium flex-1 text-gray-800",children:e.name}),k.S("span",{className:"font-bold text-lg text-gray-800",children:[e.points," pts"]}),e.re&&k.S("span",{className:"text-sm text-gray-600 italic",children:["(",e.re,")"]})]},t)})})]}),k.S("div",{children:[k.T("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"How to Play"}),k.S("div",{className:"space-y-3",children:[k.S("div",{className:"flex gap-3",children:[k.T("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),k.S("p",{className:"text-gray-700",children:["The game is played over ",k.T("strong",{className:"text-gray-800",children:"3 rounds"})," with 6 players."]})]}),k.S("div",{className:"flex gap-3",children:[k.T("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),k.T("p",{className:"text-gray-700",children:"Each round, players are randomly assigned different character cards."})]}),k.S("div",{className:"flex gap-3",children:[k.T("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),k.T("p",{className:"text-gray-700",children:"Players receive points based on their assigned character."})]}),k.S("div",{className:"flex gap-3",children:[k.T("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),k.S("p",{className:"text-gray-700",children:["The ",k.T("strong",{className:"text-gray-800",children:"Police player"})," must guess who has the ",k.T("strong",{className:"text-gray-800",children:"Thief card"}),"."]})]})]})]}),k.S("div",{children:[k.T("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Scoring Rules"}),k.S("div",{className:"space-y-3",children:[k.T("div",{className:"p-3 bg-green-50 border-l-4 border-green-400 rounded",children:k.S("p",{className:"text-gray-700",children:[k.T("strong",{className:"text-gray-800",children:"If Police guesses correctly:"})," Police gets ",k.T("span",{className:"font-bold text-green-600",children:"+300 bonus points"})]})}),k.T("div",{className:"p-3 bg-red-50 border-l-4 border-red-400 rounded",children:k.S("p",{className:"text-gray-700",children:[k.T("strong",{className:"text-gray-800",children:"If Police guesses incorrectly:"})," Thief steals ",k.T("span",{className:"font-bold text-red-600",children:"50% of Police's points"})]})}),k.T("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded",children:k.S("p",{className:"text-gray-700",children:[k.T("strong",{className:"text-gray-800",children:"Winner:"})," Player with the ",k.T("span",{className:"font-bold text-blue-600",children:"highest score after 3 rounds"})]})})]})]}),k.S("div",{className:"pt-4 border-t border-gray-200",children:[k.T("p",{className:"text-center text-gray-600 italic mb-3",children:"Strategy tip: The Police role is high-risk, high-reward. Guess wisely!"}),k.S("p",{className:"text-center text-sm text-gray-500",children:["Press ",k.T("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono text-gray-700",children:"ESC"})," to close"]})]})]})]})})},$=({se:e,K:t,ie:l,oe:a})=>k.S("div",{className:"flex justify-center gap-4 flex-wrap",children:[(!e||"ended"===t)&&k.S("button",{le:l,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 \r\n                     rounded-xl font-bold text-lg shadow-lg hover:shadow-xl \r\n                     transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[k.T(m,{size:20}),"ended"===t?"Play Again":"Start Game"]}),k.S("button",{le:a,className:"bg-gradient-to-r from-orange-400 to-yellow-500 text-white px-6 py-3 \r\n                   rounded-xl font-semibold shadow-lg hover:shadow-xl \r\n                   transition-all duration-200 hover:scale-105 flex items-center gap-2",children:[k.T(h,{size:18}),"Show Rules"]})]}),M=()=>{const[t,l]=e.ee([]);return e.ne(()=>{const e=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffa500","#800080"],t=Array.from({length:50},(t,l)=>({id:l,color:e[Math.floor(Math.random()*e.length)],left:100*Math.random(),animationDuration:3*Math.random()+2,size:8*Math.random()+4}));l(t);const a=setTimeout(()=>{l([])},5e3);return()=>clearTimeout(a)},[]),k.T("div",{className:"fixed inset-0 pointer-events-none z-50",children:t.map(e=>k.T("div",{className:"absolute animate-bounce",style:{left:`${e.left}%`,backgroundColor:e.color,width:`${e.size}px`,height:`${e.size}px`,borderRadius:"50%",animationDuration:`${e.animationDuration}s`,animationTimingFunction:"linear",animationIterationCount:"infinite"}},e.id))})},G=({isVisible:e})=>e?k.T("div",{className:"fixed bottom-4 left-0 right-0 pointer-events-none z-30",children:k.S("div",{className:"relative w-full h-16 overflow-hidden",children:[k.T("div",{className:"absolute bottom-0 animate-bounce",children:k.S("div",{className:"flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-full shadow-lg animate-pulse slide-right",children:[k.T(c,{size:20,className:"animate-spin"}),k.T("span",{className:"font-bold text-sm",children:"Thief Running!"})]})}),k.T("div",{className:"absolute bottom-0",children:k.S("div",{className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-2 rounded-full shadow-lg slide-right-delayed",children:[k.T(l,{size:20,className:"animate-pulse"}),k.T("span",{className:"font-bold text-sm",children:"Police Chasing!"})]})}),k.T("div",{className:"absolute bottom-0 w-full",children:k.S("div",{className:"flex justify-between items-end h-16 opacity-20",children:[k.T("div",{className:"w-8 h-12 bg-gray-600 rounded-t"}),k.T("div",{className:"w-6 h-8 bg-gray-600 rounded-t"}),k.T("div",{className:"w-10 h-10 bg-gray-600 rounded-t"}),k.T("div",{className:"w-4 h-6 bg-gray-600 rounded-t"}),k.T("div",{className:"w-8 h-14 bg-gray-600 rounded-t"}),k.T("div",{className:"w-6 h-8 bg-gray-600 rounded-t"}),k.T("div",{className:"w-12 h-12 bg-gray-600 rounded-t"}),k.T("div",{className:"w-4 h-6 bg-gray-600 rounded-t"})]})})]})}):null,I=({isVisible:e,ce:t})=>e?k.S("div",{className:"fixed inset-0 pointer-events-none z-20",children:[k.T("div",{className:"absolute top-20 left-10 animate-bounce",children:k.T("div",{className:"text-yellow-500 opacity-80 floating-slow",children:k.T(a,{size:40})})}),k.T("div",{className:"absolute top-32 right-16 animate-bounce",children:k.T("div",{className:"text-yellow-400 opacity-70 floating-medium",children:k.T(i,{size:35})})}),k.T("div",{className:"absolute top-24 left-1/3 animate-bounce",children:k.T("div",{className:"text-yellow-600 opacity-90 floating-fast",children:k.T(g,{size:30})})}),k.T("div",{className:"absolute top-16 right-1/3 animate-bounce",children:k.T("div",{className:"text-yellow-500 opacity-75 floating-slow",children:k.T(a,{size:45})})}),k.T("div",{className:"absolute top-40 left-20 animate-bounce",children:k.T("div",{className:"text-yellow-400 opacity-85 floating-medium",children:k.T(g,{size:25})})}),k.T("div",{className:"absolute top-28 right-24 animate-bounce",children:k.T("div",{className:"text-yellow-600 opacity-80 floating-fast",children:k.T(i,{size:38})})}),t&&k.T("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:k.T("div",{className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-black px-8 py-4 rounded-2xl shadow-2xl animate-pulse",children:k.S("div",{className:"flex items-center gap-3",children:[k.T(i,{size:32,className:"animate-spin"}),k.S("span",{className:"text-2xl font-bold",children:["Player ",t," Wins!"]}),k.T(i,{size:32,className:"animate-spin"})]})})})]}):null,L=[{id:"RJ",name:"Raja",A:"King",points:250,icon:i,description:"The most powerful card",L:"from-yellow-400 to-orange-500"},{id:"RI",name:"Rani",A:"Queen",points:200,icon:i,description:"The second most powerful card",L:"from-pink-400 to-purple-500"},{id:"MN",name:"Manthiri",A:"Minister",points:150,icon:o,description:"The advisor to the King",L:"from-blue-400 to-indigo-500"},{id:"TH",name:"Thiruden",A:"Thief",points:0,icon:c,description:"Can steal points from the Police",L:"from-red-400 to-rose-500"},{id:"PL",name:"Police",A:"Police",points:100,icon:l,description:"Can catch the Thief for bonus points",L:"from-green-400 to-emerald-500"},{id:"JK",name:"Joker",A:"Joker",points:10,icon:d,description:"The lowest value card",L:"from-gray-400 to-slate-500"}],A=[1,2,3,4,5,6],J=["RJ","RI","MN","TH","PL","JK"];function K(){const[t,l]=e.ee({}),[a,r]=e.ee({}),[n,s]=e.ee(new Map),[i,o]=e.ee(0),[c,d]=e.ee(!1),[m,h]=e.ee("setup"),[g,u]=e.ee("Welcome to Raja Rani! Click 'Start Game' to begin."),[b,x]=e.ee(!1),[f,p]=e.ee(!1),[y,N]=e.ee(null),[v,w]=e.ee(null),[P,T]=e.ee(null),[K,W]=e.ee(null),[O,H]=e.ee(new Set),[_,E]=e.ee(!1),[V,D]=e.ee(!1);e.ne(()=>{(()=>{(()=>{document.addEventListener("contextmenu",e=>(e.preventDefault(),!1)),document.addEventListener("keydown",e=>"F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&"u"===e.key||e.ctrlKey&&e.shiftKey&&"C"===e.key||e.ctrlKey&&e.shiftKey&&"K"===e.key?(e.preventDefault(),!1):void 0);let e={open:!1,orientation:null};setInterval(()=>{window.outerHeight-window.innerHeight>160||window.outerWidth-window.innerWidth>160?e.open||(e.open=!0):e.open=!1},500)})(),document.addEventListener("dragstart",e=>(e.preventDefault(),!1)),document.addEventListener("selectstart",e=>(e.preventDefault(),!1)),(()=>{document.querySelectorAll("script").length;const e=window.setTimeout;window.setInterval,window.setTimeout!==e||window.setInterval})();const e=document.createElement("div");e.innerHTML="Â© 2024 Raja Rani Game",e.style.cssText="\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    font-size: 10px;\n    color: rgba(255,255,255,0.3);\n    pointer-events: none;\n    z-index: 9999;\n    user-select: none;\n  ",document.body.appendChild(e)})(),(new Date).toISOString();const e=A.reduce((e,t)=>(e[t]=0,e),{}),t=A.reduce((e,t)=>(e[t]=new Set,e),{});l(e),r(t)},[]);const F=e.de((e,t)=>{const l=[...t],n=new Map;return e.forEach(e=>{0===l.filter(t=>{var l;return!(null==(l=a[e])?void 0:l.has(t))}).length&&r(t=>({...t,[e]:new Set}));const t=Math.floor(Math.random()*l.length),s=l[t];n.set(e,s),r(t=>({...t,[e]:new Set([...t[e],s])})),l.splice(l.indexOf(s),1)}),n},[a]),Q=e.de(()=>{d(!1),h("ended");let e=null,l=-1;for(const a of A)t[a]>l?(l=t[a],e=a):t[a]===l&&(e=null);null!==e?(T(e),u(`Game Over! Player ${e} wins with ${l} points!`),p(!0),D(!0)):u("Game Over! It's a tie!")},[t]),q=e.de(e=>{if(e>3)return void Q();const t=F(A,J);B(e,t)},[F,Q]),B=e.de((e,t)=>{var a,r;o(e),h("playing"),u(`Starting Round ${e}...`),H(new Set),W(null),s(t),l(e=>{const l={...e};for(const[a,r]of t){const e=L.find(e=>e.id===r);e&&(l[a]+=e.points)}return l});const n=null==(a=[...t.entries()].find(([,e])=>"PL"===e))?void 0:a[0],i=null==(r=[...t.entries()].find(([,e])=>"TH"===e))?void 0:r[0];N(n||null),w(i||null),setTimeout(()=>{n?(h("guessing"),u(`Player ${n} is the Police! Guess who is the Thief.`),E(!0)):(h("revealing"),H(new Set(J)),u("No police player this round. Revealing all characters..."),setTimeout(()=>{h("noPoliceComplete")},3e3))},1500)},[]),U=e.de(e=>{setTimeout(()=>{p(!1),e<3?q(e+1):Q()},3e3)},[q,Q]),Y=e.de(e=>{const t=e===v;E(!1),h("revealing"),H(new Set(J)),W(t?"success":"fail"),t?(u("Police Wins! Correct guess!"),l(e=>({...e,[y]:e[y]+300})),p(!0)):(u("Wrong guess! Thief steals points!"),l(e=>{const t=Math.floor(.5*e[y]);return{...e,[y]:e[y]-t,[v]:e[v]+t}})),U(i)},[i,U,v,y]),Z=e.de(()=>{d(!0),o(0),h("setup"),W(null),T(null),H(new Set),E(!1),D(!1);const e=A.reduce((e,t)=>(e[t]=0,e),{});l(e);const t=A.reduce((e,t)=>(e[t]=new Set,e),{});r(t);const a=F(A,J);B(1,a)},[F,B]),X=e.de(()=>{Z()},[Z]),ee=e.de(()=>{x(e=>!e)},[]);return e.ne(()=>{"noPoliceComplete"===m&&(i<3?q(i+1):Q())},[m,i,q,Q]),k.S("div",{className:"min-h-screen bg-gray-900 text-white font-sans flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[f&&k.T(M,{}),k.T(G,{isVisible:_}),k.T(I,{isVisible:V,ce:P}),k.T("h1",{className:"text-5xl font-extrabold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-green-300 via-blue-500 to-purple-600 animate-pulse",children:"Raja Rani Game"}),k.T($,{se:c,K:m,ie:Z,oe:ee}),b&&k.T(j,{ae:()=>x(!1)}),c&&"setup"!==m&&k.S("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8 w-full max-w-6xl",children:[k.S("div",{className:"lg:col-span-2 bg-gray-800 p-6 rounded-lg shadow-xl border border-gray-700",children:[k.S("h2",{className:"text-3xl font-bold mb-6 text-center text-blue-300",children:["Current Round: ",i]}),k.T("p",{className:"text-xl text-center mb-6 text-gray-300",children:g}),k.T("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:A.map(e=>k.T(z,{J:e,tag:n.get(e),j:L.find(t=>t.id===n.get(e)),K:m,W:O},e))}),"guessing"===m&&null!==y&&k.T(C,{U:y,Y:v,Z:A.filter(e=>e!==y),X:Y}),K&&k.T("p",{className:"text-center text-2xl font-bold mt-4 "+("success"===K?"text-green-400":"text-red-400"),children:"success"===K?"Guess Correct!":"Guess Incorrect!"})]}),k.S("div",{className:"lg:col-span-1 bg-gray-800 p-6 rounded-lg shadow-xl border border-gray-700 flex flex-col",children:[k.T(R,{q:t}),k.T("h2",{className:"text-3xl font-bold mt-8 mb-4 text-center text-purple-300",children:"Character Info"}),k.T("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 overflow-y-auto max-h-80 pr-2",children:L.map(e=>k.T(S,{j:e},e.id))})]})]}),!c&&"ended"===m&&null!==P&&k.S("div",{className:"mt-8 text-center",children:[k.S("p",{className:"text-4xl font-bold text-green-400 mb-4",children:["Player ",P," Wins!"]}),k.T("button",{le:X,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transform transition duration-300 hover:scale-105",children:"Play Again"})]}),!c&&"ended"===m&&null===P&&k.S("div",{className:"mt-8 text-center",children:[k.T("p",{className:"text-4xl font-bold text-yellow-400 mb-4",children:"It's a Tie!"}),k.T("button",{le:X,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transform transition duration-300 hover:scale-105",children:"Play Again"})]}),k.T("footer",{className:"mt-12 text-gray-500 text-sm",children:"Â© 2023 Raja Rani Game. All rights reserved."})]})}P(document.getElementById("root")).me(k.T(e.he,{children:k.T(K,{})}));
